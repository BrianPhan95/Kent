(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("haxe",function(n,t){function f(n){return{type:n,style:"keyword"}}function at(n,t,i){return t.tokenize=i,i(n,t)}function vt(n,t){for(var i=!1,r;(r=n.next())!=null;){if(r==t&&!i)return!0;i=!i&&r=="\\"}}function h(n,t,i){return o=n,yt=i,t}function d(n,t){var i=n.next(),r,u;return i=='"'||i=="'"?at(n,t,ri(i)):/[\[\]{}\(\),;\:\.]/.test(i)?h(i):i=="0"&&n.eat(/x/i)?(n.eatWhile(/[\da-f]/i),h("number","number")):/\d/.test(i)||i=="-"&&n.eat(/\d/)?(n.match(/^\d*(?:\.\d*(?!\.))?(?:[eE][+\-]?\d+)?/),h("number","number")):t.reAllowed&&i=="~"&&n.eat(/\//)?(vt(n,"/"),n.eatWhile(/[gimsu]/),h("regexp","string-2")):i=="/"?n.eat("*")?at(n,t,ui):n.eat("/")?(n.skipToEnd(),h("comment","comment")):(n.eatWhile(ut),h("operator",null,n.current())):i=="#"?(n.skipToEnd(),h("conditional","meta")):i=="@"?(n.eat(/:/),n.eatWhile(/[\w_]/),h("metadata","meta")):ut.test(i)?(n.eatWhile(ut),h("operator",null,n.current())):/[A-Z]/.test(i)?(n.eatWhile(/[\w_<>]/),r=n.current(),h("type","variable-3",r)):(n.eatWhile(/[\w_]/),r=n.current(),u=lt.propertyIsEnumerable(r)&&lt[r],u&&t.kwAllowed?h(u.type,u.style,r):h("variable","variable",r))}function ri(n){return function(t,i){return vt(t,n)&&(i.tokenize=d),h("string","string")}}function ui(n,t){for(var r=!1,i;i=n.next();){if(i=="/"&&r){t.tokenize=d;break}r=i=="*"}return h("comment","comment")}function wt(n,t,i,r,u,f){this.indented=n;this.column=t;this.type=i;this.prev=u;this.info=f;r!=null&&(this.align=r)}function fi(n,t){for(var i=n.localVars;i;i=i.next)if(i.name==t)return!0}function ei(n,t,i,u,f){var e=n.cc,o;for(r.state=n,r.stream=f,r.marked=null,r.cc=e,n.lexical.hasOwnProperty("align")||(n.lexical.align=!0);;)if(o=e.length?e.pop():v,o(i,u)){while(e.length&&e[e.length-1].lex)e.pop()();return r.marked?r.marked:i=="variable"&&fi(n,u)?"variable-2":i=="variable"&&oi(n,u)?"variable-3":t}}function oi(n,t){var r,i;if(/[a-z]/.test(t.charAt(0)))return!1;for(r=n.importedtypes.length,i=0;i<r;i++)if(n.importedtypes[i]==t)return!0}function bt(n){for(var i=r.state,t=i.importedtypes;t;t=t.next)if(t.name==n)return;i.importedtypes={name:n,next:i.importedtypes}}function a(){for(var n=arguments.length-1;n>=0;n--)r.cc.push(arguments[n])}function i(){return a.apply(null,arguments),!0}function kt(n,t){for(var i=t;i;i=i.next)if(i.name==n)return!0;return!1}function g(n){var t=r.state;if(t.context){if(r.marked="def",kt(n,t.localVars))return;t.localVars={name:n,next:t.localVars}}else if(t.globalVars){if(kt(n,t.globalVars))return;t.globalVars={name:n,next:t.globalVars}}}function ft(){r.state.context||(r.state.localVars=si);r.state.context={prev:r.state.context,vars:r.state.localVars}}function nt(){r.state.localVars=r.state.context.vars;r.state.context=r.state.context.prev}function e(n,t){var i=function(){var i=r.state;i.lexical=new wt(i.indented,r.stream.column(),n,null,i.lexical,t)};return i.lex=!0,i}function u(){var n=r.state;n.lexical.prev&&(n.lexical.type==")"&&(n.indented=n.lexical.indented),n.lexical=n.lexical.prev)}function s(n){function t(r){return r==n?i():n==";"?a():i(t)}return t}function v(n){return n=="@"?i(ot):n=="var"?i(e("vardef"),ht,s(";"),u):n=="keyword a"?i(e("form"),c,v,u):n=="keyword b"?i(e("form"),v,u):n=="{"?i(e("}"),ft,st,u,nt):n==";"?i():n=="attribute"?i(dt):n=="function"?i(b):n=="for"?i(e("form"),s("("),e(")"),yi,s(")"),u,v,u):n=="variable"?i(e("stat"),li):n=="switch"?i(e("form"),c,e("}","switch"),s("{"),st,u,u):n=="case"?i(c,s(":")):n=="default"?i(s(":")):n=="catch"?i(e("form"),ft,s("("),ti,s(")"),v,u,nt):n=="import"?i(gt,s(";")):n=="typedef"?i(ci):a(e("stat"),c,s(";"),u)}function c(n){return pt.hasOwnProperty(n)?i(l):n=="type"?i(l):n=="function"?i(b):n=="keyword c"?i(et):n=="("?i(e(")"),et,s(")"),u,l):n=="operator"?i(c):n=="["?i(e("]"),y(et,"]"),u,l):n=="{"?i(e("}"),y(vi,"}"),u,l):i()}function et(n){return n.match(/[;\}\)\],]/)?a():a(c)}function l(n,t){return n=="operator"&&/\+\+|--/.test(t)?i(l):n=="operator"||n==":"?i(c):n==";"?void 0:n=="("?i(e(")"),y(c,")"),u,l):n=="."?i(ai,l):n=="["?i(e("]"),c,s("]"),u,l):void 0}function dt(n){return n=="attribute"?i(dt):n=="function"?i(b):n=="var"?i(ht):void 0}function ot(n){return n==":"?i(ot):n=="variable"?i(ot):n=="("?i(e(")"),y(hi,")"),u,v):void 0}function hi(n){if(n=="variable")return i()}function gt(n,t){return n=="variable"&&/[A-Z]/.test(t.charAt(0))?(bt(t),i()):n=="variable"||n=="property"||n=="."||t=="*"?i(gt):void 0}function ci(n,t){return n=="variable"&&/[A-Z]/.test(t.charAt(0))?(bt(t),i()):n=="type"&&/[A-Z]/.test(t.charAt(0))?i():void 0}function li(n){return n==":"?i(u,v):a(l,s(";"),u)}function ai(n){if(n=="variable")return r.marked="property",i()}function vi(n){return n=="variable"&&(r.marked="property"),pt.hasOwnProperty(n)?i(s(":"),c):void 0}function y(n,t){function r(u){return u==","?i(n,r):u==t?i():i(s(t))}return function(u){return u==t?i():a(n,r)}}function st(n){return n=="}"?i():a(v,st)}function ht(n,t){return n=="variable"?(g(t),i(tt,ni)):i()}function ni(n,t){return t=="="?i(c,ni):n==","?i(ht):void 0}function yi(n,t){return n=="variable"?(g(t),i(pi,c)):a()}function pi(n,t){if(t=="in")return i()}function b(n,t){return n=="variable"||n=="type"?(g(t),i(b)):t=="new"?i(b):n=="("?i(e(")"),ft,y(ti,")"),u,tt,v,nt):void 0}function tt(n){if(n==":")return i(wi)}function wi(n){return n=="type"?i():n=="variable"?i():n=="{"?i(e("}"),y(bi,"}"),u):void 0}function bi(n){if(n=="variable")return i(tt)}function ti(n,t){if(n=="variable")return g(t),i(tt)}var p=n.indentUnit,ct=f("keyword a"),it=f("keyword b"),w=f("keyword c"),ii=f("operator"),rt={type:"atom",style:"atom"},k={type:"attribute",style:"attribute"},o=f("typedef"),lt={"if":ct,"while":ct,"else":it,"do":it,"try":it,"return":w,"break":w,"continue":w,"new":w,"throw":w,"var":f("var"),inline:k,"static":k,using:f("import"),"public":k,"private":k,cast:f("cast"),"import":f("import"),macro:f("macro"),"function":f("function"),"catch":f("catch"),untyped:f("untyped"),callback:f("cb"),"for":f("for"),"switch":f("switch"),"case":f("case"),"default":f("default"),"in":ii,never:f("property_access"),trace:f("trace"),"class":o,abstract:o,"enum":o,"interface":o,typedef:o,"extends":o,"implements":o,dynamic:o,"true":rt,"false":rt,"null":rt},ut=/[+\-*&%=<>!?|]/,yt,pt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},r={state:null,column:null,marked:null,cc:null},si={name:"this",next:null};return nt.lex=!0,u.lex=!0,{startState:function(n){var i={tokenize:d,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new wt((n||0)-p,0,"block",!1),localVars:t.localVars,importedtypes:["Int","Float","String","Void","Std","Bool","Dynamic","Array"],context:t.localVars&&{vars:t.localVars},indented:0};return t.globalVars&&typeof t.globalVars=="object"&&(i.globalVars=t.globalVars),i},token:function(n,t){if(n.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=n.indentation()),n.eatSpace())return null;var i=t.tokenize(n,t);return o=="comment"?i:(t.reAllowed=!!(o=="operator"||o=="keyword c"||o.match(/^[\[{}\(,;:]$/)),t.kwAllowed=o!=".",ei(t,i,o,yt,n))},indent:function(n,t){var u,i,r,f;return n.tokenize!=d?0:(u=t&&t.charAt(0),i=n.lexical,i.type=="stat"&&u=="}"&&(i=i.prev),r=i.type,f=u==r,r=="vardef"?i.indented+4:r=="form"&&u=="{"?i.indented:r=="stat"||r=="form"?i.indented+p:i.info!="switch"||f?i.align?i.column+(f?0:1):i.indented+(f?0:p):i.indented+(/^(?:case|default)\b/.test(t)?p:2*p))},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});n.defineMIME("text/x-haxe","haxe");n.defineMode("hxml",function(){return{startState:function(){return{define:!1,inString:!1}},token:function(n,t){var i=n.peek(),u=n.sol(),r;return i=="#"?(n.skipToEnd(),"comment"):u&&i=="-"?(r="variable-2",n.eat(/-/),n.peek()=="-"&&(n.eat(/-/),r="keyword a"),n.peek()=="D"&&(n.eat(/[D]/),r="keyword c",t.define=!0),n.eatWhile(/[A-Z]/i),r):(i=n.peek(),t.inString==!1&&i=="'"&&(t.inString=!0,i=n.next()),t.inString==!0)?(n.skipTo("'")||n.skipToEnd(),n.peek()=="'"&&(n.next(),t.inString=!1),"string"):(n.next(),null)},lineComment:"#"}});n.defineMIME("text/x-hxml","hxml")});
//# sourceMappingURL=haxe.min.js.map
