(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("commonlisp",function(n){function u(n){for(var t;t=n.next();)if(t=="\\")n.next();else if(!o.test(t)){n.backUp(1);break}return n.current()}function i(n,i){var o,c;return n.eatSpace()?(t="ws",null):n.match(e)?"number":(o=n.next(),o=="\\"&&(o=n.next()),o=='"'?(i.tokenize=s)(n,i):o=="("?(t="open","bracket"):o==")"||o=="]"?(t="close","bracket"):o==";"?(n.skipToEnd(),t="ws","comment"):/['`,@]/.test(o)?null:o=="|"?n.skipTo("|")?(n.next(),"symbol"):(n.skipToEnd(),"error"):o=="#"?(o=n.next(),o=="["?(t="open","bracket"):/[+\-=\.']/.test(o)?null:/\d/.test(o)&&n.match(/^\d*#/)?null:o=="|"?(i.tokenize=h)(n,i):o==":"?(u(n),"meta"):"error"):(c=u(n),c==".")?null:(t="symbol",c=="nil"||c=="t"||c.charAt(0)==":")?"atom":i.lastType=="open"&&(f.test(c)||r.test(c))?"keyword":c.charAt(0)=="&"?"variable-2":"variable")}function s(n,t){for(var r=!1,u;u=n.next();){if(u=='"'&&!r){t.tokenize=i;break}r=!r&&u=="\\"}return"string"}function h(n,r){for(var u,f;u=n.next();){if(u=="#"&&f=="|"){r.tokenize=i;break}f=u}return t="ws","comment"}var f=/^(block|let*|return-from|catch|load-time-value|setq|eval-when|locally|symbol-macrolet|flet|macrolet|tagbody|function|multiple-value-call|the|go|multiple-value-prog1|throw|if|progn|unwind-protect|labels|progv|let|quote)$/,r=/^with|^def|^do|^prog|case$|^cond$|bind$|when$|unless$/,e=/^(?:[+\-]?(?:\d+|\d*\.\d+)(?:[efd][+\-]?\d+)?|[+\-]?\d+(?:\/[+\-]?\d+)?|#b[+\-]?[01]+|#o[+\-]?[0-7]+|#x[+\-]?[\da-f]+)/,o=/[^\s'`,@()\[\]";]/,t;return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastType:null,tokenize:i}},token:function(i,u){i.sol()&&typeof u.ctx.indentTo!="number"&&(u.ctx.indentTo=u.ctx.start+1);t=null;var f=u.tokenize(i,u);return t!="ws"&&(u.ctx.indentTo==null?u.ctx.indentTo=t=="symbol"&&r.test(i.current())?u.ctx.start+n.indentUnit:"next":u.ctx.indentTo=="next"&&(u.ctx.indentTo=i.column()),u.lastType=t),t=="open"?u.ctx={prev:u.ctx,start:i.column(),indentTo:null}:t=="close"&&(u.ctx=u.ctx.prev||u.ctx),f},indent:function(n){var t=n.ctx.indentTo;return typeof t=="number"?t:n.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;",blockCommentStart:"#|",blockCommentEnd:"|#"}});n.defineMIME("text/x-common-lisp","commonlisp")});
//# sourceMappingURL=commonlisp.min.js.map
