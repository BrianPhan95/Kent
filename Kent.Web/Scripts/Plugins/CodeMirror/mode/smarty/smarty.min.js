(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("smarty",function(t,i){function r(n,t){return s=t,n}function v(n,t,i){return t.tokenize=i,i(n,t)}function y(n,t){return t==null&&(t=n.pos),c===3&&f=="{"&&(t==n.string.length||/\s/.test(n.string.charAt(t)))}function o(n,t){for(var i,o,r=n.string,u=n.pos;;)if(i=r.indexOf(f,u),u=i+f.length,i==-1||!y(n,i+f.length))break;return i==n.pos?(n.match(f),n.eat("*")?v(n,t,w("comment","*"+h)):(t.depth++,t.tokenize=a,s="startTag","tag")):(i>-1&&(n.string=r.slice(0,i)),o=e.token(n,t.base),i>-1&&(n.string=r),o)}function a(n,t){var i,e,v,a,y;if(n.match(h,!0))return c===3?(t.depth--,t.depth<=0&&(t.tokenize=o)):t.tokenize=o,r("tag",null);if(n.match(f,!0))return t.depth++,r("tag","startTag");if(i=n.next(),i=="$")return n.eatWhile(u.validIdentifier),r("variable-2","variable");if(i=="|")return r("operator","pipe");if(i==".")return r("operator","property");if(u.stringChar.test(i))return t.tokenize=p(i),r("string","string");if(u.operatorChars.test(i))return n.eatWhile(u.operatorChars),r("operator","operator");if(i=="["||i=="]")return r("bracket","bracket");if(i=="("||i==")")return r("bracket","operator");if(/\d/.test(i))return n.eatWhile(/\d/),r("number","number");if(t.last=="variable"){if(i=="@")return n.eatWhile(u.validIdentifier),r("property","property");if(i=="|")return n.eatWhile(u.validIdentifier),r("qualifier","modifier")}else{if(t.last=="pipe")return n.eatWhile(u.validIdentifier),r("qualifier","modifier");if(t.last=="whitespace")return n.eatWhile(u.validIdentifier),r("attribute","modifier")}if(t.last=="property")return n.eatWhile(u.validIdentifier),r("property",null);if(/\s/.test(i))return s="whitespace",null;for(e="",i!="/"&&(e+=i),v=null;v=n.eat(u.validIdentifier);)e+=v;for(a=0,y=l.length;a<y;a++)if(l[a]==e)return r("keyword","keyword");return/\s/.test(i)?null:r("tag","tag")}function p(n){return function(t,i){for(var r=null,u=null;!t.eol();){if(u=t.peek(),t.next()==n&&r!=="\\"){i.tokenize=a;break}r=u}return"string"}}function w(n,t){return function(i,r){while(!i.eol()){if(i.match(t)){r.tokenize=o;break}i.next()}return n}}var h=i.rightDelimiter||"}",f=i.leftDelimiter||"{",c=i.version||2,e=n.getMode(t,i.baseMode||"null"),l=["debug","extends","function","include","literal"],u={operatorChars:/[+\-*&%=<>!?]/,validIdentifier:/[a-zA-Z0-9_]/,stringChar:/['"]/},s;return{startState:function(){return{base:n.startState(e),tokenize:o,last:null,depth:0}},copyState:function(t){return{base:n.copyState(e,t.base),tokenize:t.tokenize,last:t.last,depth:t.depth}},innerMode:function(n){if(n.tokenize==o)return{mode:e,state:n.base}},token:function(n,t){var i=t.tokenize(n,t);return t.last=s,i},indent:function(t,i){return t.tokenize==o&&e.indent?e.indent(t.base,i):n.Pass},blockCommentStart:f+"*",blockCommentEnd:"*"+h}});n.defineMIME("text/x-smarty","smarty")});
//# sourceMappingURL=smarty.min.js.map
