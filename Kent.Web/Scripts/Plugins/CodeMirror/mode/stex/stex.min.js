(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("stex",function(){function f(n,t){n.cmdState.push(t)}function e(n){return n.cmdState.length>0?n.cmdState[n.cmdState.length-1]:null}function s(n){var t=n.cmdState.pop();t&&t.closeBracket()}function h(n){for(var i,r=n.cmdState,t=r.length-1;t>=0;t--)if(i=r[t],i.name!="DEFAULT")return i;return{styleIdentifier:function(){return null}}}function r(n,t,i){return function(){this.name=n;this.bracketNo=0;this.style=t;this.styles=i;this.argument=null;this.styleIdentifier=function(){return this.styles[this.bracketNo-1]||null};this.openBracket=function(){return this.bracketNo++,"bracket"};this.closeBracket=function(){}}}function t(n,t){n.f=t}function i(i,r){var s,l,c;if(i.match(/^\\[a-zA-Z@]+/))return l=i.current().slice(1),s=n[l]||n.DEFAULT,s=new s,f(r,s),t(r,o),s.style;if(i.match(/^\\[$&%#{}_]/)||i.match(/^\\[,;!\/\\]/))return"tag";if(i.match("\\["))return t(r,function(n,t){return u(n,t,"\\]")}),"keyword";if(i.match("$$"))return t(r,function(n,t){return u(n,t,"$$")}),"keyword";if(i.match("$"))return t(r,function(n,t){return u(n,t,"$")}),"keyword";if(c=i.next(),c=="%")return i.skipToEnd(),"comment";if(c=="}"||c=="]"){if(s=e(r),s)s.closeBracket(c),t(r,o);else return"error";return"bracket"}return c=="{"||c=="["?(s=n.DEFAULT,s=new s,f(r,s),"bracket"):/\d/.test(c)?(i.eatWhile(/[\w.%]/),"atom"):(i.eatWhile(/[\w\-_]/),s=h(r),s.name=="begin"&&(s.argument=i.current()),s.styleIdentifier())}function u(n,r,u){if(n.eatSpace())return null;if(n.match(u))return t(r,i),"keyword";if(n.match(/^\\[a-zA-Z@]+/))return"tag";if(n.match(/^[a-zA-Z]+/))return"variable-2";if(n.match(/^\\[$&%#{}_]/)||n.match(/^\\[,;!\/]/)||n.match(/^[\^_&]/))return"tag";if(n.match(/^[+\-<>|=,\/@!*:;'"`~#?]/))return null;if(n.match(/^(\d+\.\d*|\d*\.\d+|\d+)/))return"number";var f=n.next();return f=="{"||f=="}"||f=="["||f=="]"||f=="("||f==")"?"bracket":f=="%"?(n.skipToEnd(),"comment"):"error"}function o(n,r){var u=n.peek(),f;return u=="{"||u=="["?(f=e(r),f.openBracket(u),n.eat(u),t(r,i),"bracket"):/[ \t\r]/.test(u)?(n.eat(u),null):(t(r,i),s(r),i(n,r))}var n={};return n.importmodule=r("importmodule","tag",["string","builtin"]),n.documentclass=r("documentclass","tag",["","atom"]),n.usepackage=r("usepackage","tag",["atom"]),n.begin=r("begin","tag",["atom"]),n.end=r("end","tag",["atom"]),n.DEFAULT=function(){this.name="DEFAULT";this.style="tag";this.styleIdentifier=this.openBracket=this.closeBracket=function(){}},{startState:function(){return{cmdState:[],f:i}},copyState:function(n){return{cmdState:n.cmdState.slice(),f:n.f}},token:function(n,t){return t.f(n,t)},blankLine:function(n){n.f=i;n.cmdState.length=0},lineComment:"%"}});n.defineMIME("text/x-stex","stex");n.defineMIME("text/x-latex","stex")});
//# sourceMappingURL=stex.min.js.map
