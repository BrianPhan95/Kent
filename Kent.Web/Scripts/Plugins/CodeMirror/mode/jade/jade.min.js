(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror"),require("../javascript/javascript"),require("../css/css"),require("../htmlmixed/htmlmixed")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../javascript/javascript","../css/css","../htmlmixed/htmlmixed"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("jade",function(t){function u(){this.javaScriptLine=!1;this.javaScriptLineExcludesColon=!1;this.javaScriptArguments=!1;this.javaScriptArgumentsDepth=0;this.isInterpolating=!1;this.interpolationNesting=0;this.jsState=r.startState();this.restOfLine="";this.isIncludeFiltered=!1;this.isEach=!1;this.lastTag="";this.scriptType="";this.isAttrs=!1;this.attrsNest=[];this.inAttributeName=!0;this.attributeIsType=!1;this.attrValue="";this.indentOf=Infinity;this.indentToken="";this.innerMode=null;this.innerState=null;this.innerModeForLine=!1}function y(n,t){if(n.sol()&&(t.javaScriptLine=!1,t.javaScriptLineExcludesColon=!1),t.javaScriptLine){if(t.javaScriptLineExcludesColon&&n.peek()===":"){t.javaScriptLine=!1;t.javaScriptLineExcludesColon=!1;return}var i=r.token(n,t.jsState);return n.eol()&&(t.javaScriptLine=!1),i||!0}}function p(n,t){if(t.javaScriptArguments){if(t.javaScriptArgumentsDepth===0&&n.peek()!=="("){t.javaScriptArguments=!1;return}if(n.peek()==="("?t.javaScriptArgumentsDepth++:n.peek()===")"&&t.javaScriptArgumentsDepth--,t.javaScriptArgumentsDepth===0){t.javaScriptArguments=!1;return}var i=r.token(n,t.jsState);return i||!0}}function w(n){if(n.match(/^yield\b/))return"keyword"}function b(n){if(n.match(/^(?:doctype) *([^\n]+)?/))return l}function o(n,t){if(n.match("#{"))return t.isInterpolating=!0,t.interpolationNesting=0,"punctuation"}function k(n,t){if(t.isInterpolating){if(n.peek()==="}"){if(t.interpolationNesting--,t.interpolationNesting<0)return n.next(),t.isInterpolating=!1,"puncutation"}else n.peek()==="{"&&t.interpolationNesting++;return r.token(n,t.jsState)||!0}}function d(n,t){if(n.match(/^case\b/))return t.javaScriptLine=!0,i}function g(n,t){if(n.match(/^when\b/))return t.javaScriptLine=!0,t.javaScriptLineExcludesColon=!0,i}function nt(n){if(n.match(/^default\b/))return i}function tt(n,t){if(n.match(/^extends?\b/))return t.restOfLine="string",i}function it(n,t){if(n.match(/^append\b/))return t.restOfLine="variable",i}function rt(n,t){if(n.match(/^prepend\b/))return t.restOfLine="variable",i}function ut(n,t){if(n.match(/^block\b *(?:(prepend|append)\b)?/))return t.restOfLine="variable",i}function ft(n,t){if(n.match(/^include\b/))return t.restOfLine="string",i}function et(n,t){if(n.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&n.match("include"))return t.isIncludeFiltered=!0,i}function ot(n,t){if(t.isIncludeFiltered){var i=s(n,t);return t.isIncludeFiltered=!1,t.restOfLine="string",i}}function st(n,t){if(n.match(/^mixin\b/))return t.javaScriptLine=!0,i}function ht(n,t){return n.match(/^\+([-\w]+)/)?(n.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),"variable"):n.match(/^\+#{/,!1)?(n.next(),t.mixinCallAfter=!0,o(n,t)):void 0}function ct(n,t){if(t.mixinCallAfter)return t.mixinCallAfter=!1,n.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),!0}function lt(n,t){if(n.match(/^(if|unless|else if|else)\b/))return t.javaScriptLine=!0,i}function at(n,t){if(n.match(/^(- *)?(each|for)\b/))return t.isEach=!0,i}function vt(n,t){if(t.isEach){if(n.match(/^ in\b/))return t.javaScriptLine=!0,t.isEach=!1,i;if(n.sol()||n.eol())t.isEach=!1;else if(n.next()){while(!n.match(/^ in\b/,!1)&&n.next());return"variable"}}}function yt(n,t){if(n.match(/^while\b/))return t.javaScriptLine=!0,i}function pt(n,t){var i;if(i=n.match(/^(\w(?:[-:\w]*\w)?)\/?/))return t.lastTag=i[1].toLowerCase(),t.lastTag==="script"&&(t.scriptType="application/javascript"),"tag"}function s(i,r){if(i.match(/^:([\w\-]+)/)){var u;return t&&t.innerModes&&(u=t.innerModes(i.current().substring(1))),u||(u=i.current().substring(1)),typeof u=="string"&&(u=n.getMode(t,u)),f(i,r,u),"atom"}}function wt(n,t){if(n.match(/^(!?=|-)/))return t.javaScriptLine=!0,"punctuation"}function bt(n){if(n.match(/^#([\w-]+)/))return a}function kt(n){if(n.match(/^\.([\w-]+)/))return v}function dt(n,t){if(n.peek()=="(")return n.next(),t.isAttrs=!0,t.attrsNest=[],t.inAttributeName=!0,t.attrValue="",t.attributeIsType=!1,"punctuation"}function h(n,t){if(t.isAttrs){if(e[n.peek()]&&t.attrsNest.push(e[n.peek()]),t.attrsNest[t.attrsNest.length-1]===n.peek())t.attrsNest.pop();else if(n.eat(")"))return t.isAttrs=!1,"punctuation";if(t.inAttributeName&&n.match(/^[^=,\)!]+/))return(n.peek()==="="||n.peek()==="!")&&(t.inAttributeName=!1,t.jsState=r.startState(),t.attributeIsType=t.lastTag==="script"&&n.current().trim().toLowerCase()==="type"?!0:!1),"attribute";var i=r.token(n,t.jsState);if(t.attributeIsType&&i==="string"&&(t.scriptType=n.current().toString()),t.attrsNest.length===0&&(i==="string"||i==="variable"||i==="keyword"))try{return Function("","var x "+t.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),t.inAttributeName=!0,t.attrValue="",n.backUp(n.current().length),h(n,t)}catch(u){}return t.attrValue+=n.current(),i||!0}}function gt(n,t){if(n.match(/^&attributes\b/))return t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0,"keyword"}function ni(n){if(n.sol()&&n.eatSpace())return"indent"}function ti(n,t){if(n.match(/^ *\/\/(-)?([^\n]*)/))return t.indentOf=n.indentation(),t.indentToken="comment","comment"}function ii(n){if(n.match(/^: */))return"colon"}function ri(n,t){return n.match(/^(?:\| ?| )([^\n]+)/)?"string":n.match(/^(<[^\n]*)/,!1)?(f(n,t,"htmlmixed"),t.innerModeForLine=!0,c(n,t,!0)):void 0}function ui(n,t){if(n.eat(".")){var i=null;return t.lastTag==="script"&&t.scriptType.toLowerCase().indexOf("javascript")!=-1?i=t.scriptType.toLowerCase().replace(/"|'/g,""):t.lastTag==="style"&&(i="css"),f(n,t,i),"dot"}}function fi(n){return n.next(),null}function f(i,r,u){u=n.mimeModes[u]||u;u=t.innerModes?t.innerModes(u)||u:u;u=n.mimeModes[u]||u;u=n.getMode(t,u);r.indentOf=i.indentation();u&&u.name!=="null"?r.innerMode=u:r.indentToken="string"}function c(n,t,i){if(n.indentation()>t.indentOf||t.innerModeForLine&&!n.sol()||i)return t.innerMode?(t.innerState||(t.innerState=t.innerMode.startState?t.innerMode.startState(n.indentation()):{}),n.hideFirstChars(t.indentOf+2,function(){return t.innerMode.token(n,t.innerState)||!0})):(n.skipToEnd(),t.indentToken);n.sol()&&(t.indentOf=Infinity,t.indentToken=null,t.innerMode=null,t.innerState=null)}function ei(n,t){if(n.sol()&&(t.restOfLine=""),t.restOfLine){n.skipToEnd();var i=t.restOfLine;return t.restOfLine="",i}}function oi(){return new u}function si(n){return n.copy()}function hi(n,t){var i=c(n,t)||ei(n,t)||k(n,t)||ot(n,t)||vt(n,t)||h(n,t)||y(n,t)||p(n,t)||ct(n,t)||w(n,t)||b(n,t)||o(n,t)||d(n,t)||g(n,t)||nt(n,t)||tt(n,t)||it(n,t)||rt(n,t)||ut(n,t)||ft(n,t)||et(n,t)||st(n,t)||ht(n,t)||lt(n,t)||at(n,t)||yt(n,t)||pt(n,t)||s(n,t)||wt(n,t)||bt(n,t)||kt(n,t)||dt(n,t)||gt(n,t)||ni(n,t)||ri(n,t)||ti(n,t)||ii(n,t)||ui(n,t)||fi(n,t);return i===!0?null:i}var i="keyword",l="meta",a="builtin",v="qualifier",e={"{":"}","(":")","[":"]"},r=n.getMode(t,"javascript");return u.prototype.copy=function(){var t=new u;return t.javaScriptLine=this.javaScriptLine,t.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,t.javaScriptArguments=this.javaScriptArguments,t.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,t.isInterpolating=this.isInterpolating,t.interpolationNesting=this.intpolationNesting,t.jsState=n.copyState(r,this.jsState),t.innerMode=this.innerMode,this.innerMode&&this.innerState&&(t.innerState=n.copyState(this.innerMode,this.innerState)),t.restOfLine=this.restOfLine,t.isIncludeFiltered=this.isIncludeFiltered,t.isEach=this.isEach,t.lastTag=this.lastTag,t.scriptType=this.scriptType,t.isAttrs=this.isAttrs,t.attrsNest=this.attrsNest.slice(),t.inAttributeName=this.inAttributeName,t.attributeIsType=this.attributeIsType,t.attrValue=this.attrValue,t.indentOf=this.indentOf,t.indentToken=this.indentToken,t.innerModeForLine=this.innerModeForLine,t},{startState:oi,copyState:si,token:hi}});n.defineMIME("text/x-jade","jade")});
//# sourceMappingURL=jade.min.js.map
