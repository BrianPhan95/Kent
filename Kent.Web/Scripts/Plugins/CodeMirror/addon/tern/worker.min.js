function getFile(n,t){postMessage({type:"getFile",name:n,id:++nextId});pending[nextId]=t}function startServer(n,t,i){i&&importScripts.apply(null,i);server=new tern.Server({getFile:getFile,async:!0,defs:n,plugins:t})}var server,nextId,pending;this.onmessage=function(n){var t=n.data,i;switch(t.type){case"init":return startServer(t.defs,t.plugins,t.scripts);case"add":return server.addFile(t.name,t.text);case"del":return server.delFile(t.name);case"req":return server.request(t.body,function(n,i){postMessage({id:t.id,body:i,err:n&&String(n)})});case"getFile":return i=pending[t.id],delete pending[t.id],i(t.err,t.text);default:throw new Error("Unknown message type: "+t.type);}};nextId=0;pending={};this.console={log:function(n){postMessage({type:"debug",message:n})}};
//# sourceMappingURL=worker.min.js.map
