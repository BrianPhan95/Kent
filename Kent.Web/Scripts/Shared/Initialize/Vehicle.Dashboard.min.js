function renderSubDomainSummary(){function k(){$("#maximize-subdomain-btn").css("display","inline-block");$("#maximize-subdomain-btn").prop("disabled",!1);$("#subdomain-summary-export-btn").css("display","inline-block");$("#subdomain-summary-export-btn").prop("disabled",!1);$("#subdomain-date-ranges-btn").prop("disabled",!1);i<t?($("#subdomain-chart-btn .btn-resize-chart").css("display","inline-block"),$("#subdomain-chart-btn .btn-resize-chart").prop("disabled",!1),(u==0||f)&&$("#subdomain-chart-btn .btn-resize-chart[data-role='previous']").prop("disabled",!0),(r>=t||f)&&$("#subdomain-chart-btn .btn-resize-chart[data-role='next']").prop("disabled",!0)):($("#subdomain-chart-btn .btn-resize-chart").css("display","none"),$("#subdomain-chart-btn .btn-resize-chart").prop("disabled",!0))}function p(){$("#maximize-subdomain-btn").prop("disabled",!0);$("#subdomain-summary-export-btn").prop("disabled",!0);$("#subdomain-date-ranges-btn").prop("disabled",!0);$("#subdomain-chart-btn .btn-resize-chart").prop("disabled",!0)}function d(n){var t=n[0],i;t!=undefined&&t.row!=null&&(i=l.SubDomains[t.row].DealerDomain,window.location.href="/admin/vehicledashboard/stocks?sd="+i+"&dr="+o+"&cdf="+s+"&cdt="+h)}function y(t){t!=undefined&&t==!0&&(google.visualization.events.addListener(a,"ready",function(){e--;e<=0&&k()}),google.visualization.events.addListener(a,"select",function(){d(a.getSelection())}));a.draw(n,c)}function g(t){t!=undefined&&t==!0&&(google.visualization.events.addListener(v,"ready",function(){e--;e<=0&&k()}),google.visualization.events.addListener(v,"select",function(){d(v.getSelection())}));v.draw(n,nt)}function w(o,s,h,a){e=2;p();Pace.stop();Pace.track(function(){siteHelper.httpPost({showLoading:!1,url:getSubDomainSummaryUrl,data:{dateRangeType:o,customDateFrom:s,customDateTo:h},success:function(e){var s,v,p,h,o;if(e.Success){for(l=e.Data,s=l.TimeSpan,v=l.SubDomains,t=v.length,p=n.getNumberOfRows(),p>0&&n.removeRows(0,p),h=0;h<t;h++)o=v[h],n.addRow([o.DealerDomain,o.Leads,o.ListViews,o.DetailViews,o.WwwClicks,o.EmailClicks,o.PhoneClicks]);s!=null&&s!=""&&$("#subdomain-date-ranges-btn span.time-span").text(": "+s);u=0;r=t<=i?t:i;f=!1;c.hAxis.viewWindow.min=0;c.hAxis.viewWindow.max=r;a!=undefined&&a==!0?(y(!0),g(!0)):(y(),g())}}})})}var n=new google.visualization.DataTable,b;n.addColumn("string","Sub Domain");n.addColumn("number","Leads");n.addColumn("number","List Views");n.addColumn("number","Detail Views");n.addColumn("number","Www Clicks");n.addColumn("number","Email Clicks");n.addColumn("number","Phone Clicks");var c={title:"* Click on chart to show more detail",titlePosition:"out",titleTextStyle:{color:"#ed5565",fontSize:10,bold:!1,italic:!0},series:{0:{color:"#3366cc"},1:{color:"#109618"},2:{color:"#3dc7ab"},3:{color:"#dc3912"},4:{color:"#ff9900"},5:{color:"#990099"}},hAxis:{title:"",textStyle:{fontSize:10,bold:!0},slantedText:!0,slantedTextAngle:45,maxTextLines:1,viewWindow:{min:0}},vAxis:{format:"#",textStyle:{fontSize:11}},legend:{position:"top",alignment:"start",textStyle:{fontSize:11}},bar:{groupWidth:"85%"},chartArea:{width:"90%"},animation:{duration:1e3,easing:"out",startup:!0}},nt={showRowNumber:!1,sort:"enable",startPage:0,page:"enable",pageSize:50,width:"100%",height:"100%",allowHtml:!0,frozenColumns:1},a=new google.visualization.ColumnChart(document.getElementById("subdomain-chart")),v=new google.visualization.Table(document.getElementById("subdomain-table-chart")),i=10,u,r,f=!1,t,e,l,o,s,h;b=$("#subdomain-btn-group-date-range .date-range-selected")[0];o=b!=undefined?$(b).data("value"):todayDateRange;s=$("#subdomain-date-from").val();h=$("#subdomain-date-to").val();w(o,s,h,!0);$(window).on("resize",function(){e=1;p();y()});$("#subdomain-btn-group-date-range .date-range").click(function(){var n=$(this);$("#subdomain-date-ranges-btn span.btn-label").text(n.text());$("#subdomain-date-ranges-btn span.time-span").text("");o=n.data("value");$("#subdomain-btn-group-date-range .date-range-selected").removeClass("date-range-selected").addClass("date-range-unselected");n.removeClass("date-range-unselected").addClass("date-range-selected");w(o,s,h)});$("#subdomain-custom-date-range-btn").click(function(){o=$(this).val();s=$("#subdomain-date-from").val();h=$("#subdomain-date-to").val();$("#subdomain-date-ranges-btn span.btn-label").text($("#subdomain-custom-date-range .custom-title").text());$("#subdomain-date-ranges-btn span.time-span").text("");$("#subdomain-btn-group-date-range .date-range-selected").removeClass("date-range-selected").addClass("date-range-unselected");$("#subdomain-custom-date-range .date-range-unselected").removeClass("date-range-unselected").addClass("date-range-selected");$("#subdomain-date-ranges-btn").dropdown("toggle");w(o,s,h)});$("#subdomain-chart-btn .btn-resize-chart").click(function(){var n=$(this).data("role");n=="previous"?i<=t?u>0&&(u-=i,r-=i):(u=0,r=t):n=="next"?i<=t?r<t&&(u+=i,r+=i):(u=0,r=t):f=!f;c.hAxis.viewWindow.min=f?0:u;c.hAxis.viewWindow.max=f?t:r;e=1;p();y()});$("#subdomain-summary-export-btn").click(function(){var n=l.SubDomains;siteHelper.exportJsonToCsv(n,"Vehicle_SubDomain_Summary",[{name:"DealerDomain",display:"Dealer Domain"},"Leads",{name:"ListViews",display:"List Views"},{name:"DetailViews",display:"Detail Views"},{name:"WwwClicks",display:"Www Clicks"},{name:"EmailClicks",display:"Email Clicks"},{name:"PhoneClicks",display:"Phone Clicks"}])})}var todayDateRange=todayDateRange||0,getSubDomainSummaryUrl=getSubDomainSummaryUrl||"";$(document).ready(function(){$(".collapse-link").on("click",function(){var n=$(this).closest("div.ibox"),t=$(this).find("i"),i=n.find("div.ibox-content");i.slideToggle(100);t.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down");n.toggleClass("").toggleClass("border-bottom")});$(".close-link").on("click",function(){var n=$(this).closest("div.ibox");n.remove()});$(".btn-maximize-chart").on("click",function(){var n=$(this).closest("div.pos-relative"),t=$(this).find("i");$("body").toggleClass("fullscreen-ibox-mode");t.toggleClass("fa-expand").toggleClass("fa-compress");n.toggleClass("fullscreen");n.hasClass("fullscreen")?$(this).attr("data-original-title","Minimize"):$(this).attr("data-original-title","Maximize");setTimeout(function(){$(window).trigger("resize")},100)});siteHelper.buildDateRange("#subdomain-date-from","#subdomain-date-to");$("#subdomain-custom-date-range").click(function(n){n.stopPropagation()});google.charts.load("current",{packages:["corechart","table"]});google.charts.setOnLoadCallback(function(){renderSubDomainSummary()})});
//# sourceMappingURL=Vehicle.Dashboard.min.js.map
